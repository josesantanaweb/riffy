# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type PaymentMethod {
  id: ID!
  name: String!
  type: String!
  bankName: String
  phoneNumber: String
  nationalId: String
  binanceId: String
  paypalEmail: String
  createdAt: DateTime!
  updatedAt: DateTime!
  owner: User
  ownerId: String
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Payment {
  id: ID!
  buyerName: String!
  amount: Float!
  nationalId: String!
  phone: String!
  state: String
  email: String
  paymentDate: DateTime
  proofUrl: String!
  paymentMethod: String!
  status: PaymentStatus
  boards: [Board!]
  bingo: Bingo
}

"""The status of the payment"""
enum PaymentStatus {
  PENDING
  VERIFIED
  DENIED
}

type Board {
  id: ID!
  number: Float!
  numbers: JSON!
  markedNumbers: JSON
  status: String!
  payment: Payment
  bingo: Bingo
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type Bingo {
  id: ID!
  title: String!
  banner: String!
  totalBoards: Int!
  price: Float!
  award: Float!
  drawnNumbers: [Int!]!
  status: String!
  showDate: Boolean
  showProgress: Boolean
  minBoards: Int
  available: Int
  sold: Int
  progress: Float
  drawDate: DateTime!
  createdAt: DateTime!
  updatedAt: DateTime!
  boards: [Board!]
  owner: User
  ownerId: String!
}

type Plan {
  id: ID!
  name: String!
  description: [String!]!
  price: Float!
  maxBingos: Float
  maxBoards: Float
  type: PlanType!
  createdAt: DateTime
  updatedAt: DateTime
}

"""The status of the plan"""
enum PlanType {
  BASIC
  PREMIUM
  ONE_TIME
}

type PlanUsage {
  id: ID!
  currentBingos: Float!
  currentBoards: Float
  createdAt: DateTime
  updatedAt: DateTime
  ownerId: String!
  status: PlanUsageStatus!
  planId: [String!]!
  owner: User
  plan: Plan
}

"""The status of the plan usage"""
enum PlanUsageStatus {
  ACTIVE
  EXHAUSTED
  UNLIMITED
}

type User {
  id: ID!
  name: String!
  domain: String!
  password: String
  email: String!
  logo: String
  brandColor: String
  whatsapp: String
  instagram: String
  tiktok: String
  role: Role
  status: UserStatus
  createdAt: DateTime
  updatedAt: DateTime
  bingos: [Bingo!]
  paymentMethods: [PaymentMethod!]
  plan: Plan
  planUsage: PlanUsage
}

"""Roles de usuario"""
enum Role {
  ADMIN
  OWNER
}

"""The status of the user"""
enum UserStatus {
  ACTIVE
  INACTIVE
}

type AuthResponse {
  accessToken: String!
  user: User!
}

type Notification {
  id: ID!
  description: String!
  status: String!
  createdAt: DateTime!
  updatedAt: DateTime!
  owner: User
  ownerId: String
}

type TopBuyer {
  buyerName: String!
  nationalId: String
  totalBoards: Int!
  totalSpent: Float!
}

type PaymentsByState {
  state: String!
  percentage: Int!
}

type DashboardStats {
  totalBingos: Int!
  soldBoards: Int!
  unsoldBoards: Int!
  totalWinners: Int!
  totalEarnings: Float!
  topBuyers: [TopBuyer!]!
  paymentsByState: [PaymentsByState!]!
  lastPayments: [Payment!]!
}

type UploadResponse {
  url: String!
  key: String!
  originalName: String!
  mimeType: String!
  size: Float!
}

type Query {
  users(role: Role): [User!]!
  user(id: String!): User!
  userByDomain(domain: String!): User!
  profile: User!
  myPlanUsage: PlanUsage
  bingos: [Bingo!]!
  bingo(id: String!): Bingo!
  boards: [Board!]!
  boardsByBingo(bingoId: String!): [Board!]!
  boardsByNationalId(nationalId: String!, bingoId: String!): [Board!]!
  board(id: String!): Board!
  payments(bingoId: String): [Payment!]!
  payment(id: String!): Payment!
  paymentByNationalId(nationalId: String!): Payment!
  paymentMethods: [PaymentMethod!]!
  paymentMethodsByDomain(domain: String!): [PaymentMethod!]!
  paymentMethod(id: String!): PaymentMethod!
  notifications: [Notification!]!
  notification(id: String!): Notification!
  plans: [Plan!]!
  plan(id: String!): Plan!
  dashboardStats: DashboardStats!
}

type Mutation {
  createUser(input: CreateUserInput!): User!
  updateUser(id: String!, input: UpdateUserInput!): User!
  deleteUser(id: String!): User!
  resetPlanUsage(id: String!): PlanUsage!
  register(input: CreateUserInput!): AuthResponse!
  login(input: LoginInput!): AuthResponse!
  createBingo(input: CreateBingoInput!): Bingo!
  updateBingo(id: String!, input: UpdateBingoInput!): Bingo!
  deleteBingo(id: String!): Bingo!
  numberDraw(bingoId: String!): Float
  startAutoNumberDraw(bingoId: String!): Boolean!
  stopAutoNumberDraw(bingoId: String!): Boolean!
  createBoard(input: CreateBoardInput!): Board!
  updateBoard(id: String!, input: UpdateBoardInput!): Board!
  updateBoardStatus(id: String!, status: BoardStatus!): Board!
  updateBoardMarkedNumbers(id: String!, markedNumbers: [[Int!]!]!): Board!
  deleteBoard(id: String!): Board!
  createPayment(input: CreatePaymentInput!): Payment!
  updatePayment(id: String!, input: UpdatePaymentInput!): Payment!
  updatePaymentStatus(id: String!, status: PaymentStatus!): Payment!
  deletePayment(id: String!): Payment!
  createPaymentMethod(input: CreatePaymentMethodInput!): PaymentMethod!
  updatePaymentMethod(id: String!, input: UpdatePaymentMethodInput!): PaymentMethod!
  deletePaymentMethod(id: String!): PaymentMethod!
  uploadImage(file: Upload!, options: UploadOptionsInput): UploadResponse!
  uploadFile(file: Upload!): String!
  executeSeed: Boolean!
  updateNotificationsStatus(ids: [String!]!, status: NotificationStatus!): String!
  updateNotificationStatus(id: String!, status: NotificationStatus!): Notification!
  createPlan(input: CreatePlanInput!): Plan!
  updatePlan(id: String!, input: UpdatePlanInput!): Plan!
  deletePlan(id: String!): Plan!
}

input CreateUserInput {
  name: String!
  domain: String!
  email: String!
  logo: String
  brandColor: String
  password: String!
  whatsapp: String
  tiktok: String
  instagram: String
  role: Role
  status: UserStatus
  planId: String
}

input UpdateUserInput {
  name: String
  domain: String
  email: String
  logo: String
  brandColor: String
  password: String
  whatsapp: String
  tiktok: String
  instagram: String
  role: Role
  status: UserStatus
  planId: String
}

input LoginInput {
  email: String!
  password: String!
}

input CreateBingoInput {
  title: String!
  banner: String!
  totalBoards: Int!
  price: Int!
  award: Int!
  showDate: Boolean
  showProgress: Boolean
  minBoards: Int
  status: BingoStatus
  drawDate: DateTime!
}

"""The status of the bingo"""
enum BingoStatus {
  ACTIVE
  PENDING
  COMPLETED
}

input UpdateBingoInput {
  title: String
  banner: String
  totalBoards: Int
  price: Int
  award: Int
  showDate: Boolean
  showProgress: Boolean
  minBoards: Int
  status: BingoStatus
  drawDate: DateTime
}

input CreateBoardInput {
  bingoId: String!
  status: BoardStatus
}

"""The status of the board"""
enum BoardStatus {
  AVAILABLE
  SOLD
  PREMIUM
  WINNER
  LOSER
}

input UpdateBoardInput {
  bingoId: String
  status: BoardStatus
}

input CreatePaymentInput {
  buyerName: String!
  nationalId: String!
  phone: String!
  amount: Float!
  email: String
  state: String
  proofUrl: String!
  paymentMethod: String!
  boardIds: [String!]!
  bingoId: String!
  status: PaymentStatus
}

input UpdatePaymentInput {
  buyerName: String
  nationalId: String
  phone: String
  amount: Float
  email: String
  state: String
  proofUrl: String
  paymentMethod: String
  boardIds: [String!]
  bingoId: String
  status: PaymentStatus
}

input CreatePaymentMethodInput {
  name: String
  type: String!
  bankName: String
  phoneNumber: String
  nationalId: String
  binanceId: String
  paypalEmail: String
}

input UpdatePaymentMethodInput {
  name: String
  type: String
  bankName: String
  phoneNumber: String
  nationalId: String
  binanceId: String
  paypalEmail: String
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

input UploadOptionsInput {
  folder: String
  visibility: String
}

"""The status of the notifications"""
enum NotificationStatus {
  READ
  UNREAD
}

input CreatePlanInput {
  name: String!
  description: [String!]!
  price: Float!
  maxBingos: Float
  maxBoards: Float
  type: PlanType!
}

input UpdatePlanInput {
  name: String
  description: [String!]
  price: Float
  maxBingos: Float
  maxBoards: Float
  type: PlanType
}

type Subscription {
  numberDraw(bingoId: String!): Float!
}